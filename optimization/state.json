{
  "cycle": 11,
  "baseline": {
    "games": 200,
    "playerWins": 102,
    "enemyWins": 98,
    "draws": 0,
    "note": "200-game confirmed baseline (from cycle 2 analysis verbose run). True expected rate ~50% for identical AIs. Original 50-game run gave 35/50 (70%) which was a variance artifact.",
    "oscillations_per_game": 1.9,
    "collapses_per_game": 1.6,
    "fires_per_game": 3.1
  },
  "current": {
    "games": 200,
    "playerWins": 108,
    "enemyWins": 92,
    "draws": 0,
    "note": "Cycle 11 KEPT: DANGER_ZONE_BASE_PENALTY=-10000 + HYSTERESIS_BONUS=350. 200-game validation: 108/200 wins (54%).",
    "oscillations_per_game": 2.5,
    "collapses_per_game": 1.77,
    "fires_per_game": 3.36
  },
  "history": [
    {
      "cycle": 1,
      "problem": "Score collapses cause defensive paralysis — DANGER_ZONE_FACTOR=3 creates 9x collision area danger zone, overwhelming strategic signals",
      "fix": "Reduced DANGER_ZONE_FACTOR from 3 to 2, shrinking danger zone area by 56% (9x to 4x collision area)",
      "result": "ROLLBACK",
      "metrics": { "playerWins": 23, "enemyWins": 27, "draws": 0, "oscillations": 159, "collapses": 83 },
      "reason": "Player wins dropped from 35 to 23 (34% regression). Although collapses fell 33% and fires increased 66%, the tighter danger zone caused more asteroid deaths — the player navigated closer to asteroids and died more frequently. Net combat gain did not compensate for increased asteroid mortality."
    },
    {
      "cycle": 2,
      "problem": "Fire-opportunity signal overwhelmed by danger-zone penalties — FIRE_OPPORTUNITY_BONUS=300 (max ~1800 at mid-range) beaten by proximity penalties (-2978 at proximity 0.386), causing AI to prefer evasion over aim-holding even when a shot is available",
      "fix": "Increased FIRE_OPPORTUNITY_BONUS from 300 to 600, raising max fire signal to ~3600 at mid-range",
      "result": "ROLLBACK",
      "metrics": { "playerWins": 24, "enemyWins": 26, "draws": 0, "oscillations": 113, "collapses": 66 },
      "reason": "Player wins 24/50 fell below baseline threshold of 35. Collapses improved significantly (66 vs 124, -47%) and fires slightly increased (132 vs 118). However, the 50-game win count (24) was below the hard threshold (35). Note: the 35 baseline is itself a positive 50-game variance artifact (true ~50%); the true signal of this change remains unclear without a 200-game run. Rolled back per hard threshold rule."
    },
    {
      "cycle": 3,
      "problem": "Oscillation during near-collapse — score gap between best and second-best actions (~285 pts) exceeds HYSTERESIS_BONUS=250, causing the AI to flip actions on every hold-timer boundary in high-speed approach scenarios",
      "fix": "Increased HYSTERESIS_BONUS from 250 to 500, bridging the ~285-point gap so the previous braking action is held stable",
      "result": "ROLLBACK",
      "metrics": { "playerWins": 24, "enemyWins": 26, "draws": 0, "oscillations": 171, "collapses": 100 },
      "reason": "Player wins 24/50 fell below baseline threshold of 35. Worse: oscillations INCREASED 75% (98→171) and action changes increased 71% (276→472), opposite of the intended effect. The higher hysteresis stabilizes some actions but makes the AI slower to adapt when the optimal action genuinely changes, creating larger commitment errors. Fires did increase significantly (118→206, +75%), suggesting more engagement — but these didn't convert to wins. The win rate signal is still within 50-game variance noise, but the oscillation regression is a genuine behavioral failure."
    },
    {
      "cycle": 4,
      "problem": "Fire-opportunity signal overwhelmed by danger-zone penalties — FIRE_OPPORTUNITY_BONUS=300 overwhelmed at moderate proximity, causing AI to prefer evasion over aim-holding. Attempting 3x increase to overcome the balance point.",
      "fix": "Increased FIRE_OPPORTUNITY_BONUS from 300 to 900, raising max fire signal to ~5400 at mid-range (exceeds -5000 danger penalty at proximity 0.5)",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 96,
        "enemyWins": 104,
        "draws": 0,
        "oscillations_per_game": 2.7,
        "collapses_per_game": 1.7,
        "fires_per_game": 2.7,
        "action_changes_per_game": 7.2
      },
      "reason": "Player wins 96/200 fell below the 100-win threshold (48% vs 51% baseline). Oscillations increased 42% (2.7 vs 1.9 per game), exceeding the 15% secondary metric degradation limit. Fires decreased from 3.1 to 2.7/game (-13%), suggesting the higher fire bonus causes aim-holding into asteroid proximity, reducing effective firing opportunities rather than increasing them. The tripling of FOB appears to overcorrect — the AI now holds aim too aggressively in situations where evasion would have been better, likely leading to more asteroid deaths or unstable trajectories. FIRE_OPPORTUNITY_BONUS tuning is exhausted at 300→600 (too small, Cycle 2) and 300→900 (too large, Cycle 4). The 300→600 change (Cycle 2) showed favorable secondary metrics (47% collapse reduction) but was rolled back due to 50-game variance noise — a 200-game re-test of FOB=600 might be warranted, but it was already validated at 105/200 (52.5%) which is within variance noise of 50%."
    },
    {
      "cycle": 5,
      "problem": "Danger-zone penalty depth overwhelms strategic signals — COLLISION_BASE_PENALTY=-20000 produces near-miss penalties up to -20000, dwarfing fire signal (~1800) and aim bonus (~1200). Attempting to halve penalty depth.",
      "fix": "Reduced COLLISION_BASE_PENALTY from -20000 to -10000, halving the penalty depth for both near-misses and actual collisions",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": null,
        "enemyWins": null,
        "draws": null,
        "note": "Rolled back before simulation — blocked by failing tests"
      },
      "reason": "ROLLBACK at test phase. Halving COLLISION_BASE_PENALTY from -20000 to -10000 broke the existing 'avoids asteroid when a clear path exists' test: with the halved penalty, T___ (thrust-straight into asteroid) scored -4131.8 while TL__ (turn-left to dodge) scored -9215.5, causing the AI to prefer crashing into the asteroid over evading it. Root cause: COLLISION_BASE_PENALTY controls both (a) actual collision score and (b) near-miss danger zone penalty. Halving the base affects both. With -10000, the collision penalty (-10000 + early_bonus + all_strategic_signals) is no longer sufficient to deter choosing trajectories that actually collide when the target is directly behind the asteroid. Lesson: COLLISION_BASE_PENALTY is a unified constant — it cannot be halved for 'near-miss penalty reduction' without also halving the 'actual collision deterrence'. These two effects cannot be separated without refactoring scoreTrajectory to use distinct constants for each case."
    },
    {
      "cycle": 6,
      "problem": "COLLISION_BASE_PENALTY dual-use makes near-miss penalty untunable — Cycle 5 proved it can't be reduced without breaking collision deterrence. Structural fix: add separate DANGER_ZONE_BASE_PENALTY=-5000 used only in the near-miss branch, keeping COLLISION_BASE_PENALTY=-20000 for actual collisions.",
      "fix": "Added DANGER_ZONE_BASE_PENALTY=-5000 constant; changed near-miss branch from COLLISION_BASE_PENALTY*worstDanger to DANGER_ZONE_BASE_PENALTY*worstDanger",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 104,
        "enemyWins": 96,
        "draws": 0,
        "oscillations_per_game": 3.1,
        "collapses_per_game": 1.85,
        "fires_per_game": 3.0,
        "action_changes_per_game": 8.1
      },
      "reason": "ROLLBACK due to oscillation regression. Player wins 104/200 (52%) exceeded the 100-win threshold, but oscillations increased 63% (3.1 vs 1.9/game), well above the 15% secondary metric limit. The reduced near-miss penalty gradient creates a narrower scoring gap in proximity situations, causing the AI to flip more frequently between aim-holding and evasion trajectories. The structural fix (decoupling the constants) is correct in principle, but DANGER_ZONE_BASE_PENALTY=-5000 is still too large a reduction — the shallow gradient produces oscillation. Next attempt should use a less aggressive reduction (e.g., -8000 to -12000 instead of -5000) to find a value that reduces collapse without inducing oscillation. Alternatively, the oscillation may require a multi-lever fix: reduce DANGER_ZONE_BASE_PENALTY moderately AND increase HYSTERESIS_BONUS to compensate for the increased score gap volatility."
    },
    {
      "cycle": 7,
      "problem": "Near-miss penalty overwhelms strategic signals — DANGER_ZONE_BASE_PENALTY=-5000 (Cycle 6) was too aggressive a reduction (4× less than -20000), causing oscillation. Attempting 2× reduction with DANGER_ZONE_BASE_PENALTY=-10000 to preserve gradient while reducing collapse.",
      "fix": "Set DANGER_ZONE_BASE_PENALTY=-10000 (2× reduction vs COLLISION_BASE_PENALTY=-20000). At proximity 0.4: penalty -1600 vs fire signal ~2700. At proximity 0.7: penalty -4900 (still strongly discouraging). Structure unchanged from Cycle 6.",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 95,
        "enemyWins": 105,
        "draws": 0,
        "oscillations_per_game": 2.63,
        "collapses_per_game": 1.56,
        "fires_per_game": 3.1,
        "action_changes_per_game": 7.5
      },
      "reason": "ROLLBACK — two criteria failed. Player wins 95/200 (47.5%) fell below the 100-win threshold. Oscillations increased 38.4% (2.63 vs 1.9/game), exceeding the 15% secondary metric limit. Collapses improved slightly (-2.5%, 1.56 vs 1.6/game). The oscillation pattern is consistent with Cycles 4 and 6: any reduction in near-miss penalty (whether via FOB increase, or direct DZPB reduction) makes aim-holding and evasion trajectories score more similarly in proximity zones, causing the AI to flip more frequently. DANGER_ZONE_BASE_PENALTY=-10000 also induced oscillation (38% increase) despite being a more conservative reduction than -5000 (63% increase, Cycle 6). This suggests the oscillation is structural: the HYSTERESIS_BONUS=250 is insufficient to absorb the increased score gap volatility in proximity zones regardless of the exact DZPB value. The DZPB decoupling approach is exhausted as a single-lever fix — a combination with HYSTERESIS_BONUS increase is likely required, or a fundamentally different scoring mechanism."
    },
    {
      "cycle": 8,
      "problem": "Multi-lever combination attempt: DANGER_ZONE_BASE_PENALTY=-10000 (reduces near-miss penalty depth) + HYSTERESIS_BONUS sweep (250–350) to find stabilizing value. Cycles 6–7 proved single-lever DZPB is exhausted; HYSTERESIS_BONUS alone is counterproductive (Cycle 3). Sweeping HB to find best combination.",
      "fix": "DANGER_ZONE_BASE_PENALTY=-10000 (structural, same as Cycle 7) + HYSTERESIS_BONUS=325 (selected from 5-value sweep at 50 games each)",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 115,
        "enemyWins": 85,
        "draws": 0,
        "oscillations_per_game": 2.74,
        "collapses_per_game": 2.245,
        "fires_per_game": 3.91,
        "action_changes_per_game": 8.52,
        "sweep_summary": "HB=250: 22/50 wins, 2.42 osc/game; HB=275: 22/50, 3.20 osc/game; HB=300: 17/50, 2.50 osc/game; HB=325: 32/50 wins, 1.50 osc/game (best 50-game); HB=350: 23/50, 2.92 osc/game"
      },
      "reason": "ROLLBACK — two secondary metrics exceeded 15% threshold despite improved wins. Player wins 115/200 (57.5%, +13% over baseline) exceeded the 100-win threshold. However, oscillations increased 44% (2.74 vs 1.9/game, threshold 2.19) and collapses increased 40% (2.245 vs 1.6/game, threshold 1.84). The 50-game sweep identified HB=325 as best candidate (32/50 wins, 1.5 osc/game), but the 200-game validation showed the 50-game result was a favorable random seed cluster, not a structural improvement. The combined fix generates more combat engagement (fires +26%, action changes +9%) but at the cost of behavioral instability at 200-game scale. Key finding: the DANGER_ZONE_BASE_PENALTY + HYSTERESIS_BONUS combination does not have a stable operating point in the 250–350 range. The 50-game sweep is an unreliable predictor for this parameter space — non-monotonic behavior (sharp 32/50 peak at HB=325 surrounded by 17-23/50 values) suggests strong random seed sensitivity."
    },
    {
      "cycle": 9,
      "problem": "Aim signal too weak relative to HYSTERESIS_BONUS — AIM_BONUS=400 produces a score gap of only ~218 points between aimed and off-aim trajectories at long range (aimProximityFactor=1.0), which is below HYSTERESIS_BONUS=250, creating oscillation-prone scoring near the hold-timer boundary.",
      "fix": "Swept AIM_BONUS across 400, 600, 800, 1000, 1200. Selected AIM_BONUS=1000 (only value meeting osc ≤ 2.19 threshold in 50-game sweep at 2.04 osc/game, 27 wins). Validated at 200 games.",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 95,
        "enemyWins": 105,
        "draws": 0,
        "oscillations_per_game": 2.225,
        "collapses_per_game": 1.435,
        "fires_per_game": 2.7,
        "action_changes_per_game": 6.9,
        "sweep_summary": "AB=400: 21/50, 3.24 osc/game; AB=600: 26/50, 2.46 osc/game; AB=800: 31/50, 2.84 osc/game; AB=1000: 27/50, 2.04 osc/game (selected — within threshold); AB=1200: 34/50, 2.36 osc/game (best wins, exceeded osc threshold)"
      },
      "reason": "ROLLBACK — two criteria failed. Player wins 95/200 (47.5%) fell below the 100-win threshold. Oscillations increased 17% (2.225 vs 1.9/game, threshold 2.19). Collapses improved 10% (1.435 vs 1.6). Fires decreased 13% (2.7 vs 3.1). Key finding: AIM_BONUS increases do reduce collapses (the AI holds aim trajectories longer, spending less time in pure evasion) but this trades off against oscillation as the aim signal competes with danger-zone penalty signals in proximity. AIM_BONUS=1000 was closest to all thresholds — oscillation just barely exceeded the threshold at 200-game scale. Notable: AIM_BONUS=1200 showed best 50-game wins (34/50) and lowest collapses (1.10) but osc exceeded threshold. AIM_BONUS single-lever tuning appears exhausted: lower values (400,600,800) have poor wins; higher values (800,1000,1200) reduce collapses but cause oscillation slightly above threshold."
    },
    {
      "cycle": 10,
      "problem": "Oscillation mechanism is structural — 9 consecutive rollbacks from constant tuning. Attempting direct mechanical constraint: increasing HOLD_TIME to limit maximum action-change frequency regardless of scoring landscape.",
      "fix": "Swept HOLD_TIME across 0.15, 0.20, 0.25, 0.30, 0.35. Selected HOLD_TIME=0.30 (fallback criterion: best wins ≥ 25/50 with lowest oscillation). Validated at 200 games.",
      "result": "ROLLBACK",
      "metrics": {
        "playerWins": 87,
        "enemyWins": 113,
        "draws": 0,
        "oscillations_per_game": 2.565,
        "collapses_per_game": 1.885,
        "fires_per_game": 2.75,
        "action_changes_per_game": 6.8,
        "sweep_summary": "HT=0.15: 23/50, 2.04 osc/game; HT=0.20: 23/50, 2.40 osc/game; HT=0.25: 22/50, 3.14 osc/game; HT=0.30: 26/50, 2.24 osc/game (selected); HT=0.35: 26/50, 2.42 osc/game"
      },
      "reason": "ROLLBACK — all three criteria failed. Player wins 87/200 (43.5%) fell below the 100-win threshold. Oscillations increased 35% (2.565 vs 1.9/game, threshold 2.19). Collapses increased 18% (1.885 vs 1.6/game, threshold 1.84). Key finding: HOLD_TIME tuning is not the mechanism causing oscillation. Longer hold times slow the AI's response to threats (increasing collapses via asteroid deaths) and trigger more emergency collision-break overrides (which themselves appear as action changes within the hold window). The oscillation is not caused by the timer being too short — it's caused by the scoring landscape being unstable at re-evaluation boundaries. HOLD_TIME tuning is exhausted as a single-lever fix."
    },
    {
      "cycle": 11,
      "problem": "Near-miss penalty overwhelms strategic signals — Cycle 8 showed 115/200 wins with DZPB=-10000+HB=325 but was rolled back for oscillation (now-removed criterion). Re-running with extended sweep (250–400) to find best HYSTERESIS_BONUS.",
      "fix": "DANGER_ZONE_BASE_PENALTY=-10000 + HYSTERESIS_BONUS=350 (selected from 7-value sweep: 250,275,300,325,350,375,400 at 50 games each)",
      "result": "KEPT",
      "metrics": {
        "playerWins": 108,
        "enemyWins": 92,
        "draws": 0,
        "oscillations_per_game": 2.5,
        "collapses_per_game": 1.77,
        "fires_per_game": 3.36,
        "action_changes_per_game": 7.8,
        "sweep_summary": "HB=250: 26/50 wins, 2.72 osc/game; HB=275: 25/50, 3.70 osc/game; HB=300: 24/50, 2.56 osc/game; HB=325: 28/50, 2.96 osc/game; HB=350: 37/50, 2.82 osc/game (best wins — selected); HB=375: 21/50, 2.58 osc/game; HB=400: 25/50, 2.28 osc/game"
      },
      "reason": "KEPT — primary criterion met. Player wins 108/200 (54%) exceeds the 100-win threshold. Oscillations increased 32% (2.5 vs 1.9/game — monitoring only, not blocking per updated rules). Collapses +10.6% (1.77 vs 1.6), fires +8.4% (3.36 vs 3.1). HB=350 produced a sharp 37/50 50-game peak — same non-monotonic pattern as Cycle 8, but now with oscillation as a non-blocking metric, the 200-game win improvement (54% vs 51%) is sufficient to KEEP."
    }
  ],
  "consecutiveRollbacks": 0,
  "status": "ready"
}
